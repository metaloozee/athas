{
  "$schema": "../../types/extension-manifest.ts",
  "id": "athas.typescript",
  "name": "TypeScript",
  "displayName": "TypeScript Language Support",
  "description": "Complete TypeScript and JavaScript language support with LSP, formatting, linting, and snippets",
  "version": "1.0.0",
  "publisher": "Athas",
  "categories": ["Language", "Formatter", "Linter", "Snippets"],
  "icon": "icon.svg",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/athasdev/athas-extensions"
  },
  "languages": [
    {
      "id": "typescript",
      "extensions": [".ts", ".tsx", ".mts", ".cts"],
      "aliases": ["TypeScript", "ts"]
    },
    {
      "id": "javascript",
      "extensions": [".js", ".jsx", ".mjs", ".cjs"],
      "aliases": ["JavaScript", "js"]
    }
  ],
  "lsp": {
    "server": {
      "darwin": "./lsp/typescript-language-server",
      "linux": "./lsp/typescript-language-server",
      "win32": "./lsp/typescript-language-server.exe"
    },
    "args": ["--stdio"],
    "fileExtensions": [".ts", ".tsx", ".js", ".jsx", ".mts", ".cts", ".mjs", ".cjs"],
    "languageIds": ["typescript", "javascript", "typescriptreact", "javascriptreact"],
    "initializationOptions": {
      "preferences": {
        "includeInlayParameterNameHints": "all",
        "includeInlayFunctionParameterTypeHints": true
      }
    }
  },
  "formatter": {
    "command": {
      "darwin": "./formatters/prettier",
      "linux": "./formatters/prettier",
      "win32": "./formatters/prettier.exe"
    },
    "args": ["--stdin-filepath", "${file}"],
    "languages": ["typescript", "javascript", "typescriptreact", "javascriptreact"],
    "formatOnSave": true,
    "inputMethod": "stdin",
    "outputMethod": "stdout"
  },
  "linter": {
    "command": {
      "darwin": "./linters/eslint",
      "linux": "./linters/eslint",
      "win32": "./linters/eslint.exe"
    },
    "args": ["--format", "json", "--stdin", "--stdin-filename", "${file}"],
    "languages": ["typescript", "javascript", "typescriptreact", "javascriptreact"],
    "lintOnSave": true,
    "lintOnType": false,
    "inputMethod": "stdin",
    "diagnosticFormat": "lsp"
  },
  "snippets": [
    {
      "language": "typescript",
      "snippets": [
        {
          "prefix": "log",
          "body": "console.log('${1:message}:', ${2:variable});",
          "description": "Log to console"
        },
        {
          "prefix": "func",
          "body": [
            "function ${1:name}(${2:params}): ${3:void} {",
            "\t${4:// body}",
            "}"
          ],
          "description": "Function declaration"
        },
        {
          "prefix": "arrowfunc",
          "body": "const ${1:name} = (${2:params}): ${3:void} => {",
          "description": "Arrow function"
        },
        {
          "prefix": "interface",
          "body": [
            "interface ${1:Name} {",
            "\t${2:property}: ${3:type};",
            "}"
          ],
          "description": "Interface declaration"
        },
        {
          "prefix": "class",
          "body": [
            "class ${1:Name} {",
            "\tconstructor(${2:params}) {",
            "\t\t${3:// constructor body}",
            "\t}",
            "",
            "\t${4:// methods}",
            "}"
          ],
          "description": "Class declaration"
        },
        {
          "prefix": "import",
          "body": "import { ${2:module} } from '${1:path}';",
          "description": "Named import"
        },
        {
          "prefix": "importdefault",
          "body": "import ${2:module} from '${1:path}';",
          "description": "Default import"
        },
        {
          "prefix": "export",
          "body": "export { ${1:module} };",
          "description": "Named export"
        },
        {
          "prefix": "exportdefault",
          "body": "export default ${1:module};",
          "description": "Default export"
        },
        {
          "prefix": "trycatch",
          "body": [
            "try {",
            "\t${1:// code}",
            "} catch (${2:error}) {",
            "\tconsole.error(${2:error});",
            "}"
          ],
          "description": "Try-catch block"
        },
        {
          "prefix": "foreach",
          "body": "${1:array}.forEach((${2:item}) => {",
          "description": "ForEach loop"
        },
        {
          "prefix": "map",
          "body": "${1:array}.map((${2:item}) => ${3:item});",
          "description": "Map function"
        },
        {
          "prefix": "filter",
          "body": "${1:array}.filter((${2:item}) => ${3:condition});",
          "description": "Filter function"
        },
        {
          "prefix": "promise",
          "body": [
            "new Promise<${1:type}>((resolve, reject) => {",
            "\t${2:// async operation}",
            "});"
          ],
          "description": "Promise declaration"
        },
        {
          "prefix": "asyncfunc",
          "body": [
            "async function ${1:name}(${2:params}): Promise<${3:void}> {",
            "\t${4:// async body}",
            "}"
          ],
          "description": "Async function"
        }
      ]
    },
    {
      "language": "javascript",
      "snippets": [
        {
          "prefix": "log",
          "body": "console.log('${1:message}:', ${2:variable});",
          "description": "Log to console"
        },
        {
          "prefix": "func",
          "body": [
            "function ${1:name}(${2:params}) {",
            "\t${3:// body}",
            "}"
          ],
          "description": "Function declaration"
        },
        {
          "prefix": "arrowfunc",
          "body": "const ${1:name} = (${2:params}) => {",
          "description": "Arrow function"
        }
      ]
    }
  ],
  "commands": [
    {
      "command": "typescript.restart",
      "title": "Restart TypeScript Server",
      "category": "TypeScript"
    },
    {
      "command": "typescript.toggle",
      "title": "Toggle TypeScript Server",
      "category": "TypeScript"
    },
    {
      "command": "typescript.format",
      "title": "Format Document",
      "category": "TypeScript"
    },
    {
      "command": "typescript.lint",
      "title": "Lint Document",
      "category": "TypeScript"
    }
  ],
  "activationEvents": ["onLanguage:typescript", "onLanguage:javascript"],
  "dependencies": {
    "typescript": "^5.3.0"
  },
  "installation": {
    "downloadUrl": "https://extensions.athas.dev/typescript/v1.0.0/typescript-extension.tar.gz",
    "size": 52428800,
    "checksum": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
    "minEditorVersion": "0.1.0",
    "platforms": {
      "darwin": {
        "downloadUrl": "https://extensions.athas.dev/typescript/v1.0.0/typescript-extension-darwin.tar.gz",
        "size": 52428800,
        "checksum": "a1b2c3d4e5f6789012345678901234567890123456789012345678901234567890"
      },
      "linux": {
        "downloadUrl": "https://extensions.athas.dev/typescript/v1.0.0/typescript-extension-linux.tar.gz",
        "size": 48234496,
        "checksum": "b2c3d4e5f6789012345678901234567890123456789012345678901234567891"
      },
      "win32": {
        "downloadUrl": "https://extensions.athas.dev/typescript/v1.0.0/typescript-extension-win32.tar.gz",
        "size": 54525952,
        "checksum": "c3d4e5f6789012345678901234567890123456789012345678901234567892"
      }
    }
  }
}
